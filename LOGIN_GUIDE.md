# 运动会管理系统 - 登录系统使用指南

## 功能概述

本系统为运动会管理后台添加了完整的用户认证系统，确保只有授权用户才能访问Excel数据导入功能。

## 登录系统特性

### 🔐 认证功能
- **用户登录**: 支持用户名/密码登录
- **会话管理**: 自动保存登录状态，刷新页面保持登录
- **权限控制**: 支持管理员和教师两种角色
- **安全登出**: 一键登出，清除本地存储

### 👥 用户角色
- **管理员**: 拥有所有功能的完整访问权限
- **教师**: 拥有数据导入功能的访问权限

## 使用方法

### 1. 访问管理后台
- 在网站任意页面点击右上角的"管理后台"按钮
- 或直接访问: http://localhost:3000/admin

### 2. 登录系统
- 系统会自动重定向到登录页面
- 输入用户名和密码
- 点击"登录"按钮

### 3. 测试账号
```
管理员账号:
- 用户名: admin
- 密码: admin123

教师账号:
- 用户名: teacher
- 密码: teacher123
```

### 4. 登录后功能
- 自动跳转到管理后台页面
- 页面顶部显示当前登录用户信息
- 可随时点击"退出登录"按钮安全退出

## 界面说明

### 登录页面
- **用户名输入框**: 输入注册的用户名
- **密码输入框**: 输入对应的密码（支持显示/隐藏）
- **登录按钮**: 提交登录请求
- **错误提示**: 登录失败时显示具体错误信息

### 管理后台
- **用户信息区**: 显示当前登录用户名称和角色
- **功能导航**: 三个标签页对应不同的数据导入功能
- **退出登录**: 右上角提供快速退出功能

## 安全特性

### 数据保护
- 用户凭据存储在本地浏览器，不会发送到外部服务器
- 登录状态通过localStorage持久化
- 敏感操作需要重新验证身份

### 权限验证
- 每次访问管理后台都会验证用户身份
- 支持基于角色的访问控制
- 未授权访问会自动重定向到登录页

## 技术实现

### 前端技术栈
- **React Context**: 管理认证状态
- **React Router**: 路由保护和重定向
- **LocalStorage**: 本地会话存储
- **TypeScript**: 类型安全的认证系统

### 认证流程
```
用户访问 /admin → 检查登录状态 → 
已登录 → 显示管理后台
未登录 → 重定向到登录页 → 验证凭据 → 
验证成功 → 保存状态并跳转
验证失败 → 显示错误信息
```

## 常见问题

### Q: 忘记密码怎么办？
A: 当前为演示版本，可使用测试账号登录。生产环境请联系系统管理员重置密码。

### Q: 如何修改密码？
A: 当前版本暂不支持用户自主修改密码功能。

### Q: 可以同时登录多个账号吗？
A: 不支持，同一浏览器同一时间只能登录一个账号。

### Q: 登录状态能保持多久？
A: 登录状态会一直保持，直到用户主动退出或清除浏览器数据。

## 开发者信息

### 扩展建议
- 集成后端认证API
- 添加密码加密存储
- 实现记住我功能
- 添加多因素认证
- 支持OAuth登录

### 文件结构
```
src/
├── contexts/
│   └── AuthContext.tsx      # 认证状态管理
├── pages/
│   ├── LoginPage/           # 登录页面
│   │   ├── index.tsx
│   │   └── LoginPage.css
│   └── AdminPage/           # 管理后台
└── components/
    └── common/
        └── Header.tsx       # 导航栏认证状态
```